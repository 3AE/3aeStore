# 整站梳理

| 修订版本 | 修订内容  | 修订人员 | 文档类型 | 修订日期 |
| :-----: |  :-----:  | :-----: | :-----: | :-----: |
|  v1.0.1.* | 新建reference | sid | -- | 2018-12-16 |
| ————— | —————————————————————————— | ————— | ————— | —————— |

版本号说明

* 版本号第四位: 修剪文档语句结构、内容布局，不计入修订版本。
* 版本号第三位: 二级模块内容、结构进行更新，计入修订版本。
* 版本号第二位: 一级模块内容、结构进行更新，计入修订版本。
* 版本号第一位: 不限于整个文档进行升级、包含的内容同时进行版本迭代，计入修订版本并生成新的文档。

修改文档名为：
1.快照版（同布更新）
2.稳定版（只维护，不更新）
3.最终版（不更新、不维护）

---

## 顶层设计

使用者的思考

* 网站开发其实就是下面该逻辑表达式求解的过程：[WHO] —》 [WHEN] —》 [HOW] —》 [WHAT] === [STATE]

## 功能实现

### database设计

* 三范式和反范式
* 业务级联

### DAO层

主要实现接口设计、sql编写

* sql实现增删改查
* sql执行结果与pojo绑定
* 业务实体

具体技术

* proto数据转换，跨语言操作数据库
* 数据库存储过程
* redis缓存集群，消息队列

测试

* 基本的原子操作是否有bug
* 获取数据库操作结果
* 验证数据库连接、操作是否正常

### service层

service层基本实现

* DAO层拼接逻辑实现（操作接口）对应dao层步骤2(数据对象pojo集合)
* 业务拼接逻辑实现（行为接口）对应dto层（方便service返回数据的一个封装，行为结果，成功失败的原因）
* 业务行为运行期异常的抛出日志
* 系统性能检测
* 定时任务
* x

具体技术

* 枚举封装常量
* 多态封装接口

service层测试

* 验证数据输出是否正确
* 根据传参返回不同的数据包
* 响应请求结果
* 1

### api层

api层基本实现
service层拼接，业务封装成服务接口

根据不同的RESTful接口输出不同的数据格式

### web层

WEB层、WAP层、APP层三端

WEB层
Jquery-1.12.4 + CSS3 + H5
为了兼容到IE678，尽量少写花里胡哨的CSS3效果，毕竟重绘也有性能代价。必要时进行优雅降级

WAP层
VUE + VUEX + vue-router
